@model Faculty_UserProfile

@{
    Layout = "Faculty_Layout";
    ViewData["Title"] = "Profile";
}


<body class="position-relative bg-image" style="font-family: 'Poppins', sans-serif; overflow-x: hidden; height: 100vh; margin: 0;">

    <!-- Background Image -->
    <img src="~/images/bgjr.png"
         alt="Decorative background representing Grade 7"
         class="img-fluid w-100"
         style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; z-index: -1;">

    <!-- Main Content -->
    <div class="container-fluid p-3" style="background-color: rgba(220, 232, 253, 0.9); border-radius: 10px;">
        <section class="fixed ml-72 px-11 py-6 w-100 top-20 left-0" style="font-weight: bold;">
            <p class="text-sm text-black fs-5">
                <i class="fas fa-user text-black"></i>
                <a asp-controller="FacultyPortal" asp-action="Profile" class="text-black" style="text-decoration: none;">Profile</a>
            </p>
        </section>    

        <div class="bg-light rounded p-3 mb-3">    
            <!-- Profile Image and Info with Edit Button -->
            <div class="d-flex flex-column flex-md-row align-items-center justify-content-between">
                <div class="d-flex align-items-center">
                    <img src="~/images/profile-placeholder.png" alt="User Photo" class="rounded-circle me-2" style="width: 40px; height: 40px; object-fit: cover;" />
                    <div class="w-20 h-20 bg-white rounded-circle" id="profileImage"></div>
                    <!-- Profile Info -->
                    <div class="ms-3">
                        <!-- Profile Name -->
                        <div class="mb-2">
                            <span class="text-dark">Name: </span>
                            <span class="text-dark fw-semibold">Althea Amor J. Asis</span>
                        </div>
                        <!-- Role -->
                        <div class="mb-2">
                            <span class="text-dark">Role: </span>
                            <span class="text-dark fw-semibold">Faculty Teacher</span>
                        </div>
                    </div>
                </div>
                <!-- Edit Button for Upload Photo -->
                <button class="btn btn-dark btn-sm mt-3 mt-md-0" data-bs-toggle="modal" data-bs-target="#uploadProfileModal">Edit Photo</button>
            </div>
        </div>

        <!-- Content Section -->
        <div class="row g-4">
            <!-- Personal Information -->
            <div class="col-12 col-md-6">
                <div class="card shadow-sm">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h3 class="mb-0 text-primary">Personal Information</h3>
                        <button class="btn btn-dark btn-sm" data-bs-toggle="modal" data-bs-target="#editPIModal">Edit</button>
                    </div>
                    <div class="card-body text-muted">
                        <div class="d-flex justify-content-between mb-2">
                            <span>First Name</span>
                            <span class="text-dark fw-semibold">@Model.FirstName</span>
                        </div>
                        <div class="d-flex justify-content-between mb-2">
                            <span>Middle Initial</span>
                            <span class="text-dark fw-semibold">@Model.MiddleName</span>
                        </div>
                        <div class="d-flex justify-content-between mb-2">
                            <span>Last Name</span>
                            <span class="text-dark fw-semibold">@Model.LastName</span>
                        </div>
                        <div class="d-flex justify-content-between mb-2">
                            <span>Bio</span>
                            <span class="text-dark fw-semibold">@Model.Bio</span>
                        </div>
                        <div class="d-flex justify-content-between mb-2">
                            <span>Date of Birth</span>
                            <span class="text-dark fw-semibold">@Model.DateOfBirth.ToString("MMMM dd, yyyy")</span>
                        </div>
                        <div class="d-flex justify-content-between mb-2">
                            <span>Phone No.</span>
                            <span class="text-dark fw-semibold">@Model.PhoneNumber</span>
                        </div>
                    </div>
                </div>
            </div>


            <!-- Address Section -->
            <div class="col-12 col-md-6">
                <div class="card shadow-sm">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h3 class="mb-0 text-primary">Address</h3>
                        <button class="btn btn-dark btn-sm" data-bs-toggle="modal" data-bs-target="#editAddressModal">Edit</button>
                    </div>
                    <div class="card-body text-muted">
                        <div class="d-flex justify-content-between mb-2">
                            <span>House No.</span>
                            <span class="text-dark fw-semibold">@Model.HouseNumber</span>
                        </div>
                        <div class="d-flex justify-content-between mb-2">
                            <span>Street Name</span>
                            <span class="text-dark fw-semibold">@Model.StreetName</span>
                        </div>
                        <div class="d-flex justify-content-between mb-2">
                            <span>Barangay</span>
                            <span class="text-dark fw-semibold">@Model.Barangay</span>
                        </div>
                        <div class="d-flex justify-content-between mb-2">
                            <span>City or Municipality</span>
                                        <span class="text-dark fw-semibold">@Model.CityOrMunicipality</span>
                        </div>
                        <div class="d-flex justify-content-between mb-2">
                            <span>Province</span>
                            <span class="text-dark fw-semibold">@Model.Province</span>
                        </div>
                        <div class="d-flex justify-content-between mb-2">
                            <span>Zip Code</span>
                            <span class="text-dark fw-semibold">@Model.ZipCode</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Logout Button - Positioned to the Right -->
        <div class="text-end mt-4">
            <form action="@Url.Action("Faculty_Logout", "Account")" method="post" style="display:inline;">
                <button type="submit" class="btn btn-danger">Log Out</button>
            </form>
        </div>


    </div>

    <!-- Modal for Uploading Profile Picture -->
    <div class="modal fade" id="uploadProfileModal" tabindex="-1" aria-labelledby="uploadProfileModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="uploadProfileModalLabel">Upload New Profile Picture</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="uploadForm">
                        <div class="mb-3">
                            <label for="profileImageUpload" class="form-label">Choose a new profile image</label>
                            <input type="file" class="form-control" id="profileImageUpload" accept="image/*" required>
                        </div>
                        <button type="submit" class="btn btn-dark">Upload</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Editing Personal Information -->
    <div class="modal fade" id="editPIModal" tabindex="-1" aria-labelledby="editPIModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editPIModalLabel">Edit Personal Information</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <form asp-action="EditPersonalInfo" asp-controller="Faculty_UserProfile" method="post">
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-md-4 mb-3">
                                <label for="firstName" class="form-label">First Name</label>
                                <input type="text" class="form-control" id="firstName" asp-for="FirstName">
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="middleInitial" class="form-label">Middle Initial</label>
                                <input type="text" class="form-control" id="middleInitial" asp-for="MiddleName">
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="lastName" class="form-label">Last Name</label>
                                <input type="text" class="form-control" id="lastName" asp-for="LastName">
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="phoneNo" class="form-label">Phone No.</label>
                            <input type="text" class="form-control" id="phoneNo" asp-for="PhoneNumber">
                        </div>
                        <div class="mb-3">
                            <label for="dob" class="form-label">Date of Birth</label>
                            <input type="date" class="form-control" id="dob" asp-for="DateOfBirth" value="@Model.DateOfBirth.ToString("yyyy-MM-dd")">
                        </div>
                        <div class="mb-3">
                            <label for="bio" class="form-label">Bio</label>
                            <textarea class="form-control" id="bio" asp-for="Bio" rows="3"></textarea>
                        </div>
                    </div>
                    <div class="modal-footer"> 
                        <button type="submit" class="btn btn-primary">Save</button>
                    </div>
                </form>
            </div>
        </div>
    </div>



    <!-- Modal for Editing Address -->
    <div class="modal fade" id="editAddressModal" tabindex="-1" aria-labelledby="editAddressModalLabel" aria-hidden="true">
        <div class="modal-dialog" style="max-width: 40%;">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editAddressModalLabel">Edit Address</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <form asp-action="EditAddress" asp-controller="Faculty_UserProfile" method="post">
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-md-4 mb-3">
                                <label for="houseNo" class="form-label">House No.</label>
                                <input type="text" class="form-control" id="houseNo" asp-for="HouseNumber" placeholder="Enter house number">
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="streetName" class="form-label">Street Name</label>
                                <input type="text" class="form-control" id="streetName" asp-for="StreetName" placeholder="Enter street name">
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="barangay" class="form-label">Barangay</label>

                                <input type="text" class="form-control" id="barangay" asp-for="Barangay" placeholder="Enter barangay">
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="city" class="form-label">City/Municipality</label>
                            <input type="text" class="form-control" id="city" asp-for="CityOrMunicipality" placeholder="Enter city or municipality">
                        </div>
                        <div class="mb-3">
                            <label for="province" class="form-label">Province</label>
                            <input type="text" class="form-control" id="province" asp-for="Province" placeholder="Enter province">
                        </div>
                        <div class="mb-3">
                            <label for="zipCode" class="form-label">Zip Code</label>
                            <input type="text" class="form-control" id="zipCode" asp-for="ZipCode" placeholder="Enter zip code">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-primary">Save</button>
                    </div>
                </form>
            </div>
        </div>
    </div>


</body>
